<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CodeFiddle Tutorial - Part 5</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="container">
    <div class="header">
      <h1>üöÄ CodeFiddle Tutorial</h1>
      <p>Build Your Own Web-Based Code Editor with Live Preview</p>
    </div>

    <div class="card">
      <h2>üìã Part 5</h2>
      <p>In this part of the tutorial, we enhance our mini code editor by adding a "Hide/Show Console" 
        button. This button allows users to hide and show the console panel.</p>
    </div>

    <div class="card">
      <h2>Preview Toolbar with Hide/Show Button (index.html)</h2>
      <p>We will add a button to a preview toolbar that, when clicked, toggles the visibility of the console panel.</p>
      <p>Add the following code after the line <code>&lt;div id=&quot;preview-toolbar&quot;&gt;</code></p>
      <div class="file-section">
        <div class="file-header">
          <span class="filename">index.html</span>
          <button class="copy-btn" onclick="copyCode('html-code')">Copy Code</button>
        </div>
        <pre><code id="html-code">&lt;button id=&quot;toggle-console-btn&quot;&gt;Hide Console&lt;/button&gt;</code></pre>
      </div>

      <h3>What This HTML Does:</h3>
      <ul style="margin-left: 20px; margin-bottom: 20px;">
        <li><strong>Toggle Console Button:</strong> A button with the ID <code>toggle-console-btn</code> is added. This 
          button will be used to hide and show the console panel when clicked.</li>
      </ul>
      <div class="view-live">
        <h4>View Diff</h4>
        <a class="download-btn" href="https://www.diffchecker.com/rxt0Z8F2/" target="_blank">Open diffchecker</a>
      </div>
    </div>

    <div class="card">
      <h2>CSS Styling Changes (styles.css)</h2>
      <p>We will add some CSS to style the toggle console button.</p>
      <p>First, add the following CSS to your <code>styles.css</code> at the beginning of 
        the <code>#preview-panel</code> section</p>
      <div class="file-section">
        <div class="file-header">
          <span class="filename">styles.css</span>
          <button class="copy-btn" onclick="copyCode('css-code')">Copy Code</button>
        </div>
        <pre><code id="css-code">flex: 1 1 auto;</code></pre>
      </div>
      <p>This ensures that the preview panel takes up the remaining space when the console is hidden.</p>
      <p>&nbsp;</p>
      <p>Next, we need to add a simliar change to the <code>#console-panel</code> section.</p>
      <div class="file-section">
        <div class="file-header">
          <span class="filename">styles.css</span>
          <button class="copy-btn" onclick="copyCode('css-code-1')">Copy Code</button>
        </div>
        <pre><code id="css-code-1">flex: 0 0 auto;
transition: max-height 0.25s ease, padding 0.25s ease;
        </code></pre>
      </div>
      <p>This ensures that the console panel does not take up space when it is hidden, and
      that the console panel smoothly transitions its height when it is shown or hidden.</p>
      <p>&nbsp;</p>
      <p>Finally, add the following CSS after the <code>#console-panel</code> section.</p>
      <div class="file-section">
        <div class="file-header">
          <span class="filename">styles.css</span>
          <button class="copy-btn" onclick="copyCode('css-code-2')">Copy Code</button>
        </div>
        <pre><code id="css-code-2">#console-panel.hidden {
  max-height: 0;
  padding: 0;
  overflow: hidden;
  border-top: none;
}</code></pre>
      </div>
      <p>This CSS class will be applied to the console panel when it is hidden, setting its maximum height to 0,
      removing padding, hiding overflow content, and removing the top border.</p>

      <h3>What This CSS Does:</h3>
      <ul style="margin-left: 20px; margin-bottom: 20px;">
        <li><strong>Flex Property Adjustments:</strong> The <code>flex</code> properties for both the 
          preview and console panels are adjusted to ensure proper resizing behavior when the console 
          is hidden or shown.</li>
        <li><strong>Transition Effects:</strong> The <code>transition</code> property is added to the 
          console panel to enable smooth height and padding transitions when toggling visibility.</li>
        <li><strong>Hidden Class:</strong> The <code>.hidden</code> class is defined to set the console 
          panel's maximum height to 0, remove padding, hide overflow content, and eliminate the top 
          border when the console is hidden.</li>
      </ul> 

      <div class="view-live">
        <h4>View Diff</h4>
        <a class="download-btn" href="https://www.diffchecker.com/8G89PLUZ/" target="_blank">Open diffchecker</a>
      </div>
    </div>

    <div class="card">
      <h2>JavaScript Functionality (script.js)</h2>
      <p>We will add JavaScript to handle the click event of the toggle console button, toggling the visibility
      of the console panel.</p>
      <p>First tho, delete the line <code>const clearConsoleBtn = document.getElementById('clear-console-btn');</code>. 
      We will add it back in as part of the code, but it will make more sense to be grouped with the Toggle code.</p>
      <p>Add the following JavaScript to your <code>script.js</code> file after the section <code>// Attach Clear Console button</code>.</p>
      <div class="file-section">
        <div class="file-header">
          <span class="filename">script.js</span>
          <button class="copy-btn" onclick="copyCode('js-code')">Copy Code</button>
        </div>
        <pre><code id="js-code">// --- Toggle Console Panel ---
const consolePanel = document.getElementById('console-panel');
const toggleConsoleBtn = document.getElementById('toggle-console-btn');
let consoleVisible = true;

function toggleConsole() {
  consoleVisible = !consoleVisible;
  consolePanel.classList.toggle('hidden', !consoleVisible);
  toggleConsoleBtn.textContent = consoleVisible ? 'Hide Console' : 'Show Console';
}

toggleConsoleBtn.addEventListener('click', toggleConsole);

// Keyboard shortcut: Ctrl+` to toggle Console
document.addEventListener('keydown', e => {
  if((e.ctrlKey||e.metaKey)&&e.key==='`'){
    e.preventDefault();
    toggleConsole();
  }
});</code></pre>
      </div>

      <h3>What This JavaScript Does:</h3>
      <ul style="margin-left: 20px; margin-bottom: 20px;">
        <li><strong>Element References:</strong> References to the console panel and toggle button are 
          obtained using their IDs.</li>
        <li><strong>Visibility State:</strong> A boolean variable <code>consoleVisible</code> is used to 
          track whether the console is currently visible.</li>
        <li><strong>Toggle Function:</strong> The <code>toggleConsole</code> function toggles the visibility 
          of the console panel by adding or removing the <code>hidden</code> class. It also updates the button 
          text accordingly.</li>
        <li><strong>Event Listener:</strong> An event listener is attached to the toggle button to call the 
          <code>toggleConsole</code> function when clicked.</li>
        <li><strong>Keyboard Shortcut:</strong> An additional event listener is added to listen for the keyboard 
          shortcut Ctrl+` (or Cmd+` on Mac) to toggle the console visibility.</li>
      </ul>

      <div class="view-live">
        <h4>View Diff</h4>
        <a class="download-btn" href="https://www.diffchecker.com/C2f9XRzv/" target="_blank">Open diffchecker</a>
      </div>
    </div>

    <div class="card">
      <h2>üöÄ How to Use CodeFiddle</h2>
      <div class="view-live">
        <h4>View Live</h4>
        <a class="download-btn" href="https://publicjoe.github.io/software/js/codefiddle-5/" target="_blank">Open CodeFiddle</a>
      </div>

      <h3>What's New</h3>
      <div class="feature-grid">
        <div class="feature-item">
          <h4>Hide/Show Console Button</h4>
          <p>A button is added to the preview toolbar that, when clicked, toggles the visibility of the console panel.</p>
        </div>
        <div class="feature-item">
          <h4>Smooth Transitions</h4>
          <p>The console panel smoothly transitions its height when it is shown or hidden, providing a better user experience.</p>
        </div>
        <div class="feature-item">
          <h4>Keyboard Shortcut</h4>
          <p>A keyboard shortcut (Ctrl+` or Cmd+`) is implemented to quickly toggle the console visibility.</p>
        </div>
      </div>
    </div>

    <div class="card">
      <h2>‚¨ÖÔ∏è Previous</h2>
      <ul style="margin-left: 20px;">
        <li><strong>Add a Clear Console Button</strong> <a href="codefiddle-4.html">Previous Page</a></li>
      </ul>
    </div>

    <div class="card">
      <h2>‚û°Ô∏è What Next</h2>
      <ul style="margin-left: 20px;">
        <li><strong>Next we will add timestamps to the console window</strong> <a href="codefiddle-6.html">Next Page</a></li>
      </ul>
    </div>
  </div>

  <div id="successMessage" class="success-message">
      ‚úÖ Code copied to clipboard!
  </div>

  <script src="script.js"></script>
</body>
</html>